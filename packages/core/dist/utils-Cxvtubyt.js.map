{"version":3,"file":"utils-Cxvtubyt.js","names":["classkeys: ReadonlyArray<string | symbol>"],"sources":["../src/utils.ts"],"sourcesContent":["import type { AnyElement, Child } from \"./types\";\n\nexport const classkeys: ReadonlyArray<string | symbol> = ['class', 'className', 'classList']\n\nexport function handleAttribute(element: AnyElement, key: string | symbol, value: any): void {\n    if(typeof key === 'string') {\n        if (handleClassAttribute(element, key, value)) return\n        if (handleStyleAttribute(element, key, value)) return\n        if (handleEventHandlerAttribute(element, key, value)) return\n        if (handleDataAttribute(element, key, value)) return\n    }\n\n    if(key in element) {\n        try {\n            // try to set the value directly\n            // @ts-expect-error\n            element[key] = value;\n            return\n        } catch {}\n    }\n\n    if(typeof key === 'string') element.setAttribute(key, String(value))\n}\n\nexport function handleClassAttribute(element: AnyElement, name: string, value: any): boolean {\n    if (!classkeys.includes(name)) return false\n    if (typeof value === 'string') {\n        element.classList = ''\n        element.classList.add(...value.split(' ').filter(Boolean))\n    } else if (Array.isArray(value)) {\n        // Add each class from array (filter out falsy values)\n        value.filter(Boolean).forEach((className) => element.classList.add(className))\n    } else if (typeof value === 'object' && value !== null) {\n        // Handle object format: { 'class1': true, 'class2': false, 'class3': true }\n        Object.entries(value).forEach(([className, shouldInclude]) => {\n            element.classList.toggle(className, !!shouldInclude)\n        })\n    }\n\n    return true\n}\n\nexport function handleEventHandlerAttribute(element: AnyElement, name: string, value: any): boolean {\n    if (!name.startsWith('on') || typeof value !== 'function') return false\n\n    const eventName = name.slice(2).toLowerCase()\n    element.addEventListener(eventName, value)\n    return true\n}\n\nexport function handleStyleAttribute(element: AnyElement, name: string, value: any): boolean {\n    if (name !== 'style') return false\n\n    if (typeof value === 'string') {\n        element.setAttribute('style', value)\n    } else if (typeof value === 'object' && value !== null) {\n        if(element instanceof SVGElement) {\n            const styleString = Object.entries(value).map(([key, val]) => {\n                const kebabKey = key.replace(/[A-Z]/g, match => `-${match.toLowerCase()}`);\n                return `${kebabKey}: ${val};`;\n            }).join(' ');\n            element.setAttribute('style', styleString);\n        } else {\n            Object.assign(element.style, value)\n        }\n\n    }\n\n    return true\n}\n\nexport function handleDataAttribute(element: AnyElement, key: string, value: any): boolean {\n    if (key !== 'data' || typeof value !== 'object' || value === null) return false\n    Object.assign(element.dataset, value)\n    return true\n}\n\nexport function handleChildren(element: AnyElement, children: Child | Child[]) {\n    if (!Array.isArray(children)) children = [children];\n\n    children.forEach((child) => {\n        const node = childToNode(child)\n        if (node) element.appendChild(node)\n    })\n}\n\nexport function childToNode(child: Child): Node | null {\n    if (child === null || child === undefined) return null\n    if (typeof child === 'string' || typeof child === 'number') {\n        return document.createTextNode(child.toString())\n    } else {\n        return child\n    }\n}\n"],"mappings":";AAEA,MAAaA,YAA4C;CAAC;CAAS;CAAa;CAAY;AAE5F,SAAgB,gBAAgB,SAAqB,KAAsB,OAAkB;AACzF,KAAG,OAAO,QAAQ,UAAU;AACxB,MAAI,qBAAqB,SAAS,KAAK,MAAM,CAAE;AAC/C,MAAI,qBAAqB,SAAS,KAAK,MAAM,CAAE;AAC/C,MAAI,4BAA4B,SAAS,KAAK,MAAM,CAAE;AACtD,MAAI,oBAAoB,SAAS,KAAK,MAAM,CAAE;;AAGlD,KAAG,OAAO,QACN,KAAI;AAGA,UAAQ,OAAO;AACf;mBACI;AAGZ,KAAG,OAAO,QAAQ,SAAU,SAAQ,aAAa,KAAK,OAAO,MAAM,CAAC;;AAGxE,SAAgB,qBAAqB,SAAqB,MAAc,OAAqB;AACzF,KAAI,CAAC,UAAU,SAAS,KAAK,CAAE,QAAO;AACtC,KAAI,OAAO,UAAU,UAAU;AAC3B,UAAQ,YAAY;AACpB,UAAQ,UAAU,IAAI,GAAG,MAAM,MAAM,IAAI,CAAC,OAAO,QAAQ,CAAC;YACnD,MAAM,QAAQ,MAAM,CAE3B,OAAM,OAAO,QAAQ,CAAC,SAAS,cAAc,QAAQ,UAAU,IAAI,UAAU,CAAC;UACvE,OAAO,UAAU,YAAY,UAAU,KAE9C,QAAO,QAAQ,MAAM,CAAC,SAAS,CAAC,WAAW,mBAAmB;AAC1D,UAAQ,UAAU,OAAO,WAAW,CAAC,CAAC,cAAc;GACtD;AAGN,QAAO;;AAGX,SAAgB,4BAA4B,SAAqB,MAAc,OAAqB;AAChG,KAAI,CAAC,KAAK,WAAW,KAAK,IAAI,OAAO,UAAU,WAAY,QAAO;CAElE,MAAM,YAAY,KAAK,MAAM,EAAE,CAAC,aAAa;AAC7C,SAAQ,iBAAiB,WAAW,MAAM;AAC1C,QAAO;;AAGX,SAAgB,qBAAqB,SAAqB,MAAc,OAAqB;AACzF,KAAI,SAAS,QAAS,QAAO;AAE7B,KAAI,OAAO,UAAU,SACjB,SAAQ,aAAa,SAAS,MAAM;UAC7B,OAAO,UAAU,YAAY,UAAU,KAC9C,KAAG,mBAAmB,YAAY;EAC9B,MAAM,cAAc,OAAO,QAAQ,MAAM,CAAC,KAAK,CAAC,KAAK,SAAS;AAE1D,UAAO,GADU,IAAI,QAAQ,WAAU,UAAS,IAAI,MAAM,aAAa,GAAG,CACvD,IAAI,IAAI;IAC7B,CAAC,KAAK,IAAI;AACZ,UAAQ,aAAa,SAAS,YAAY;OAE1C,QAAO,OAAO,QAAQ,OAAO,MAAM;AAK3C,QAAO;;AAGX,SAAgB,oBAAoB,SAAqB,KAAa,OAAqB;AACvF,KAAI,QAAQ,UAAU,OAAO,UAAU,YAAY,UAAU,KAAM,QAAO;AAC1E,QAAO,OAAO,QAAQ,SAAS,MAAM;AACrC,QAAO;;AAGX,SAAgB,eAAe,SAAqB,UAA2B;AAC3E,KAAI,CAAC,MAAM,QAAQ,SAAS,CAAE,YAAW,CAAC,SAAS;AAEnD,UAAS,SAAS,UAAU;EACxB,MAAM,OAAO,YAAY,MAAM;AAC/B,MAAI,KAAM,SAAQ,YAAY,KAAK;GACrC;;AAGN,SAAgB,YAAY,OAA2B;AACnD,KAAI,UAAU,QAAQ,UAAU,OAAW,QAAO;AAClD,KAAI,OAAO,UAAU,YAAY,OAAO,UAAU,SAC9C,QAAO,SAAS,eAAe,MAAM,UAAU,CAAC;KAEhD,QAAO"}